
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>å–µå–µå•è¯ç‹ - ä¹å­¦ç‰ˆ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/canvas-confetti@1.6.0/dist/confetti.browser.js"></script>
    <style>
        /* å¼ºåˆ¶ä½¿ç”¨æ›´æ¸…æ™°ã€æ›´æ­£è§„çš„å­—ä½“å †æ ˆ */
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@700&display=swap');
        body { font-family: 'Noto Sans SC', -apple-system, sans-serif; }
        .match-anim { animation: matchEffect 0.4s ease-out forwards; }
        @keyframes matchEffect {
            0% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.1); opacity: 0.5; }
            100% { transform: scale(0); opacity: 0; }
        }
        .gradient-bg { background: linear-gradient(180deg, #E0F2FE 0%, #F0FDFA 100%); }
        /* å¢åŠ å¡ç‰‡çš„å¯¹æ¯”åº¦å’Œæ¸…æ™°åº¦ */
        .game-card {
            font-size: 1.5rem !important; /* å¢å¤§å­—å· */
            font-weight: 800 !important;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }
    </style>
</head>
<body class="gradient-bg min-h-screen flex flex-col">

    <div id="homeScreen" class="fixed inset-0 z-50 bg-white flex flex-col items-center justify-center p-8">
        <div class="text-9xl mb-6">ğŸ±</div>
        <h1 class="text-4xl font-black text-blue-600 mb-2">å–µå–µå•è¯ç‹</h1>
        <p class="text-slate-400 mb-12">å¿«ä¹æ¶ˆé™¤ï¼Œè½»æ¾è®°å•è¯</p>
        <button onclick="startLevel(0)" class="w-full max-w-xs bg-blue-500 hover:bg-blue-600 text-white text-2xl font-bold py-6 rounded-3xl shadow-xl shadow-blue-200 transition-all active:scale-95">
            å¼€å§‹æŒ‘æˆ˜ ğŸš€
        </button>
        <p class="mt-8 text-sm text-slate-300 italic text-center">å½“å‰ç‰ˆæœ¬ï¼šV2.5 æ™ºèƒ½å…³å¡ç‰ˆ</p>
    </div>

    <header class="p-4 flex justify-between items-center bg-white/80 backdrop-blur-md shadow-sm sticky top-0 z-10">
        <div class="flex items-center gap-3">
            <button onclick="location.reload()" class="text-2xl">ğŸ </button>
            <div>
                <h2 id="levelTitle" class="text-lg font-bold text-slate-700">åŠ è½½ä¸­...</h2>
                <div class="h-1.5 w-24 bg-slate-100 rounded-full">
                    <div id="progressBar" class="h-full bg-blue-500 rounded-full transition-all duration-300" style="width: 0%"></div>
                </div>
            </div>
        </div>
        <div class="text-right">
            <span id="score" class="text-2xl font-black text-blue-500">0</span>
            <p class="text-[10px] text-slate-400 font-bold uppercase tracking-widest">Score</p>
        </div>
    </header>

    <main class="flex-grow p-4 max-w-md mx-auto w-full">
        <div class="grid grid-cols-2 gap-4 mt-2" id="gameGrid">
            <div id="leftCol" class="space-y-4"></div>
            <div id="rightCol" class="space-y-4"></div>
        </div>
    </main>

    <div id="winModal" class="hidden fixed inset-0 bg-slate-900/60 backdrop-blur-sm z-50 flex items-center justify-center p-6">
        <div class="bg-white w-full max-w-sm rounded-[3rem] p-10 text-center shadow-2xl border-4 border-white">
            <div class="text-8xl mb-6">ğŸ†</div>
            <h2 class="text-3xl font-black text-slate-800 mb-2">å¤ªå‰å®³äº†ï¼</h2>
            <p id="winMsg" class="text-slate-500 mb-8 text-lg">è¿™ä¸€å…³çš„å•è¯å…¨æŒæ¡å•¦</p>
            <button id="nextBtn" class="w-full bg-blue-500 text-white text-xl font-bold py-5 rounded-2xl shadow-lg hover:bg-blue-600 transition-all active:scale-95">
                æŒ‘æˆ˜ä¸‹ä¸€å…³
            </button>
        </div>
    </div>

    <script>
        // å¤šå…³å¡åº“æ•°æ®
        const LEVEL_DATA = [
            {
                name: "ç¬¬ä¸€å…³ï¼šçƒ­å¸¦æ°´æœ",
                words: [
                    { id: 1, en: 'Apple', cn: 'è‹¹æœ', icon: 'ğŸ' },
                    { id: 2, en: 'Banana', cn: 'é¦™è•‰', icon: 'ğŸŒ' },
                    { id: 3, en: 'Grape', cn: 'è‘¡è„', icon: 'ğŸ‡' },
                    { id: 4, en: 'Peach', cn: 'æ¡ƒå­', icon: 'ğŸ‘' }
                ]
            },
            {
                name: "ç¬¬äºŒå…³ï¼šæ£®æ—åŠ¨ç‰©",
                words: [
                    { id: 5, en: 'Lion', cn: 'ç‹®å­', icon: 'ğŸ¦' },
                    { id: 6, en: 'Panda', cn: 'ç†ŠçŒ«', icon: 'ğŸ¼' },
                    { id: 7, en: 'Rabbit', cn: 'å…”å­', icon: 'ğŸ°' },
                    { id: 8, en: 'Tiger', cn: 'è€è™', icon: 'ğŸ¯' }
                ]
            },
            {
                name: "ç¬¬ä¸‰å…³ï¼šäº¤é€šå·¥å…·",
                words: [
                    { id: 9, en: 'Plane', cn: 'é£æœº', icon: 'âœˆï¸' },
                    { id: 10, en: 'Train', cn: 'ç«è½¦', icon: 'ğŸš†' },
                    { id: 11, en: 'Ship', cn: 'è½®èˆ¹', icon: 'ğŸš¢' },
                    { id: 12, en: 'Car', cn: 'æ±½è½¦', icon: 'ğŸš—' }
                ]
            }
        ];

        let curIdx = 0;
        let selL = null, selR = null, matched = 0, score = 0;

        function startLevel(idx) {
            curIdx = idx;
            matched = 0;
            selL = null; selR = null;
            
            document.getElementById('homeScreen').classList.add('hidden');
            document.getElementById('winModal').classList.add('hidden');
            document.getElementById('levelTitle').innerText = LEVEL_DATA[curIdx].name;
            document.getElementById('progressBar').style.width = '0%';
            
            const lCol = document.getElementById('leftCol');
            const rCol = document.getElementById('rightCol');
            lCol.innerHTML = ''; rCol.innerHTML = '';

            const currentWords = LEVEL_DATA[curIdx].words;
            const dataL = [...currentWords].sort(() => Math.random() - 0.5);
            const dataR = [...currentWords].sort(() => Math.random() - 0.5);

            dataL.forEach(item => lCol.appendChild(createBtn(item.en, 'L', item.id)));
            dataR.forEach(item => rCol.appendChild(createBtn(item.icon + ' ' + item.cn, 'R', item.id)));
        }

        function createBtn(text, side, id) {
            const b = document.createElement('button');
            b.className = "game-card w-full py-7 px-4 bg-white rounded-[2rem] text-slate-700 border-2 border-transparent transition-all active:scale-95";
            b.innerText = text;
            b.dataset.id = id;
            b.onclick = () => {
                // é€‰ä¸­åé¦ˆ
                if (side === 'L') {
                    if(selL) selL.classList.remove('border-blue-500', 'bg-blue-50', 'text-blue-600');
                    selL = b;
                } else {
                    if(selR) selR.classList.remove('border-blue-500', 'bg-blue-50', 'text-blue-600');
                    selR = b;
                }
                b.classList.add('border-blue-500', 'bg-blue-50', 'text-blue-600');

                if (selL && selR) {
                    if (selL.dataset.id === selR.dataset.id) {
                        score += 100; matched++;
                        document.getElementById('score').innerText = score;
                        document.getElementById('progressBar').style.width = (matched / LEVEL_DATA[curIdx].words.length * 100) + '%';
                        
                        confetti({ particleCount: 40, spread: 60, origin: { y: 0.8 } });
                        
                        const tl = selL, tr = selR;
                        tl.classList.add('match-anim'); tr.classList.add('match-anim');
                        setTimeout(() => {
                            tl.style.visibility = 'hidden'; tr.style.visibility = 'hidden';
                            if(matched === LEVEL_DATA[curIdx].words.length) showWin();
                        }, 400);
                        selL = null; selR = null;
                    } else {
                        const tl = selL, tr = selR;
                        tl.classList.add('bg-red-50', 'border-red-400'); tr.classList.add('bg-red-50', 'border-red-400');
                        setTimeout(() => {
                            tl.classList.remove('border-blue-500', 'bg-blue-50', 'text-blue-600', 'bg-red-50', 'border-red-400');
                            tr.classList.remove('border-blue-500', 'bg-blue-50', 'text-blue-600', 'bg-red-50', 'border-red-400');
                        }, 500);
                        selL = null; selR = null;
                    }
                }
            };
            return b;
        }

        function showWin() {
            const winBox = document.getElementById('winModal');
            const nextBtn = document.getElementById('nextBtn');
            winBox.classList.remove('hidden');
            
            if (curIdx < LEVEL_DATA.length - 1) {
                nextBtn.innerText = "è¿›å…¥ä¸‹ä¸€å…³";
                nextBtn.onclick = () => startLevel(curIdx + 1);
            } else {
                nextBtn.innerText = "å…¨éƒ¨å­¦å®Œï¼é‡å¤´å†æ¥";
                nextBtn.onclick = () => location.reload();
            }
        }
    </script>
</body>
</html>
